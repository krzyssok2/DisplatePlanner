@inherits LayoutComponentBase

<div class="layout-wrapper @SelectedTheme-mode">
    <div class="topbar">
        <NavMenu />
        <button @onclick="ToggleTheme" class="theme-toggle">
            @if (isDarkMode)
            {
                <i class="fas fa-moon"></i>  <!-- Moon icon for dark mode -->
            }
            else
            {
                <i class="fas fa-sun"></i>  <!-- Sun icon for light mode -->
            }
        </button>
    </div>

    <div class="main-content">
        @Body
    </div>

    <div class="bottombar">
        <Footer />
    </div>
</div>



<style>  
    .dark-mode{
        --text: #f3eef6;
        --background: #0c050f;
        --primary: #8f29c2;
        --secondary: #5c0f80;
        --accent: #7905b3;
    }

    .white-mode {
        --text: #0e0911;
        --background: #f7f0fa;
        --primary: #a33dd6;
        --secondary: #cc7ff0;
        --accent: #c04cfa;
    }

    .layout-wrapper {
        --footer-height: 50px;
        --topbar-height: 50px;
        --page-padding: 1rem;
        --full-page-height: calc(100vh - var(--footer-height) - var(--topbar-height) - 3 * var(--page-padding));

        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background: var(--background);
        color: var(--text);
    }

        .layout-wrapper div, a, button, input {
            border-color: var(--primary) !important;
            color: var(--text) !important
        }

        .layout-wrapper input {
            background-color: var(--background);
        }

        .layout-wrapper button{
            background-color: var(--secondary);
        }

        .layout-wrapper button:hover {
            background-color: var(--accent);
        }

            .layout-wrapper button.active {
                background-color: var(--accent);
            }

        .layout-wrapper .nav-links a.active {
            color: var(--accent) !important;
        }

        .layout-wrapper .selection-item:hover{
            background: var(--secondary)
        }

        .layout-wrapper .brand a{
            font-size: 1.2rem;
            font-weight: bold;
            background: linear-gradient(to right, var(--primary) 0%, var(--accent) 100%); /* Left to right gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }

        

    .topbar {
        position: relative; /* Make the topbar the reference for absolute positioning */
        border-bottom: 1px solid;
        padding: 1rem;
    }

    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: var(--page-padding);
    }

    .bottombar {
        border-top: 1px solid;
        height: var(--footer-height);        
        padding: 1rem;
        text-align: center;
        font-size: 0.9rem;
    }

    .theme-toggle {
        position: absolute;
        top: 50%; /* Vertically center the button */
        right: 1rem; /* Space from the right edge */
        transform: translateY(-50%); /* Adjust for exact vertical centering */
        background: none !important;
        border: none;
        cursor: pointer;
        font-size: 24px;
        padding: 10px;
        color: var(--primary);
        transition: background-color 0.3s ease;
    }

        .theme-toggle:hover {
            color: orange;
        }
</style>